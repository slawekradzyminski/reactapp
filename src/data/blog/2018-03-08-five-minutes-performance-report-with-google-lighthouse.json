{
  "id": "2018-03-08-five-minutes-performance-report-with-google-lighthouse",
  "title": "Five minutes performance report with Google Lighthouse",
  "date": "2018-03-08",
  "categories": [
    "Performance testing"
  ],
  "tags": [
    "performance testing"
  ],
  "permalink": "/2018/03/five-minutes-performance-report-with",
  "content": "<p>With little disappointment I realised today that I haven’t done a single post about performance testing (in almost 3<br>years of blogging!). Today I’d like to change that by introducing you with simple, yet powerful, performance tool<br>called <a href=\"https://github.com/GoogleChrome/lighthouse\" target=\"_blank\" rel=\"noreferrer\">Lighthouse</a>. According to developers:</p>\n<blockquote class=\"blog-quote\"><p>Lighthouse analyzes web apps and web pages, collecting modern performance metrics and insights on developer best</p><p>practices.  </p></p></blockquote><p>In case you are short on time choose Lighthouse. You only need… 5 minutes to make Desktop &amp; Mobile report. Lighthouse<br>opens Chrome browser and gathers all useful metrics<br>from <a href=\"https://developers.google.com/web/tools/chrome-devtools/evaluate-performance/\" target=\"_blank\" rel=\"noreferrer\">Chrome Dev Tools</a>.</p>\n<h2>Setup</h2>\n<p>Installation couldn’t be easier. First you need npm (get it from <a href=\"https://nodejs.org/en/download/\" target=\"_blank\" rel=\"noreferrer\">here</a>) and then type:</p>\n<p><code>npm install -g lighthouse</code></p>\n<h2>Generating report</h2>\n<p>Now we need only two commands in order to get reports.</p>\n<p>a) Desktop</p>\n<p><code>lighthouse https://www.awesome-testing.com --disable-device-emulation --disable-cpu-throttling --disable-network-throttling --view</code></p>\n<p>You can view generated reports here:</p>\n<p><a href=\"https://htmlpreview.github.io/?https://github.com/slawekradzyminski/AwesomeTesting/blob/b453b50f7f2a1d2826d632edf7fc74a5fdce35f6/src/test/java/com/awesome/testing/performance/lighthouse/Desktop-report.html\" target=\"_blank\" rel=\"noreferrer\">Link to Lighthouse Desktop report</a></p>\n<p>b) Mobile</p>\n<p><code>lighthouse https://www.awesome-testing.com --disable-network-throttling --view</code></p>\n<p>You may want to get rid of <code>--disable-network-throttling option</code> in order to simulate 3G connection.</p>\n<p>You can view generated reports here:</p>\n<p><a href=\"http://htmlpreview.github.io/?https://github.com/slawekradzyminski/AwesomeTesting/blob/f1c66b7f569ef09b70c11ee9e0400b6947f77203/src/test/java/com/awesome/testing/performance/lighthouse/Mobile-report.html\" target=\"_blank\" rel=\"noreferrer\">Link to Mobile report</a></p>\n<p>As you can see performance of my blog is really good :)</p>\n<p><img src=\"/images/blog/wOjmmz3BCDKC1856YSLjtk3JH-OedzNnVT20-Eq0fZpWmVZ4rWtcopwAOLu1Ig0jZSA6fR2eWy1h9lsD_A8zSFuDdPTfyy2xQqJrL70nhiHbbdgTga7Tzt0j1sCrPZdQnFyhH7dx\" alt=\"\" style=\"width: 100%;\"></p>\n<h2>Useful options</h2>\n<p>a) Passing headers (can be used to get logged in pages)</p>\n<p><code>lighthouse \\--extra-headers &quot;{\\\\&quot;Cookie\\\\&quot;:\\\\&quot;monster=blue\\\\&quot;}&quot;</code></p>\n<p>b) Passing chrome flags</p>\n<p>Every single one of <a href=\"https://peter.sh/experiments/chromium-command-line-switches/\" target=\"_blank\" rel=\"noreferrer\">Chromium Command Line Switches</a> can<br>be used</p>\n<p><code>lighthouse \\--chrome-flags=’--start-maximized’</code></p>\n<h2>Continuous Integration usage</h2>\n<p>As with almost everything related to automated tests we would like to add them into Continuous Integration. Lighthouse<br>allows it!<br>See <a href=\"https://github.com/GoogleChrome/lighthouse/blob/master/docs/readme.md#using-programmatically\" target=\"_blank\" rel=\"noreferrer\">official guide</a> for<br>details.</p>\n<p>Quick win, isn&#39;t it?</p>\n"
}