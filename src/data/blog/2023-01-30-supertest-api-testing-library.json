{
  "id": "2023-01-30-supertest-api-testing-library",
  "title": "Supertest API testing library",
  "date": "2023-01-30",
  "categories": [
    "API testing"
  ],
  "tags": [
    "API testing"
  ],
  "permalink": "/2023/01/superest-api-testing-library",
  "content": "<p><img src=\"/images/blog/1*R8dpDe1F8LIgCrN1QTfVBw.png\" alt=\"\" style=\"width: 100%;\"></p>\n<p><a href=\"https://github.com/ladjs/supertest\" target=\"_blank\" rel=\"noreferrer\">Supertest</a> is a popular JavaScript library for testing HTTP APIs. It allows<br>developers to send HTTP requests to their server-side code and assert that the response meets certain criteria.</p>\n<p>One of the key benefits of using Supertest is that it is built on top of the popular testing library, Superagent. This<br>means that it has a similar syntax and functionality, making it easy for developers who are already familiar with<br>Superagent to get started.</p>\n<p>Supertest also provides a number of additional features that are specifically designed for testing APIs. For example, it<br>allows developers to easily send JSON payloads in their requests and assert that the response has the correct status<br>code and headers.</p>\n<p>To get started with Supertest, you will first need to install it as a dependency in your project. Once you have done<br>this, you can import the library in your test file and use it to make requests to your server-side code.</p>\n<p>For example, you can use the <strong><em>.get()</em></strong> method to send a GET request to your server and assert that the response has<br>the correct status code and contains the expected data.</p>\n<pre><code class=\"language-javascript\">const request = require(&#39;supertest&#39;);\nconst app = require(&#39;./app&#39;);\n\ndescribe(&#39;GET /&#39;, () =&gt; {\n  it(&#39;should return a 200 status code and a welcome message&#39;, async () =&gt; {\n    const res = await request(app).get(&#39;/&#39;);\n\n    expect(res.statusCode).toEqual(200);\n    expect(res.body).toEqual({ message: &#39;Welcome to my API!&#39; });\n  });\n});\n</code></pre>\n<p>In this example, the <strong><em>request(app)</em></strong> function creates a new Supertest object that is bound to our Express app, which<br>allows us to make requests to the app&#39;s routes. The <strong><em>.get(&#39;/&#39;)</em></strong> method sends a GET request to the root route of the<br>app and returns a promise that resolves to the response object.</p>\n<p>Overall, Supertest is a powerful and easy-to-use library for testing APIs in JavaScript. It allows developers to write<br>expressive and maintainable tests for their server-side code, helping to ensure that their APIs are working as expected.</p>\n<p>For more examples and complete working project please use<br>my <a href=\"https://github.com/slawekradzyminski/supertest-api-tests\" target=\"_blank\" rel=\"noreferrer\">GitHub project</a>.</p>\n"
}